!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.SiteHQChat=n():t.SiteHQChat=n()}(this,(()=>(()=>{"use strict";var t={};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function e(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function i(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(n){d(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function o(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,l(i.key),i)}}function r(t){var n="function"==typeof Map?new Map:void 0;return r=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return function(t,n,e){if(s())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,n);var o=new(t.bind.apply(t,i));return e&&a(o,e.prototype),o}(t,arguments,c(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a(e,t)},r(t)}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function a(t,n){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},a(t,n)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function d(t,n,e){return(n=l(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function l(t){var e=function(t){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}(t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})(t);var h=function(t){function e(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),d(t=function(t,e,i){return e=c(e),function(t,e){if(e&&("object"==n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,i||[],c(t).constructor):e.apply(t,i))}(this,e),"SVGS",{chatBubble:"M21 11.5C21 16.1944 16.9706 20 12 20C10.9 20 9.83943 19.8325 8.85145 19.5247C8.17238 19.3139 7.8323 19.2083 7.68265 19.2292C7.53301 19.25 7.31884 19.3693 6.88694 19.6084L4.8 20.8L4.3636 20.9964C4.01558 21.1495 3.84157 21.2261 3.67736 21.2433C3.38636 21.2725 3.09829 21.1872 2.87926 21.0113C2.79366 20.9488 2.72192 20.8663 2.5764 20.7055C2.19781 20.2685 2.18538 19.6598 2.54001 19.2082L3 18.6462L4.09513 17.2981C4.25177 17.1069 4.33008 17.0113 4.38058 16.9031C4.43108 16.795 4.4473 16.6716 4.47097 16.4224C4.49464 16.1732 4.45304 15.9049 4.37088 15.3755C4.12225 13.7754 4 13 4 11.5C4 6.80558 8.02944 3 13 3C17.9706 3 21 6.80558 21 11.5Z",close:"M18 6L6 18 M6 6L18 18",send:"M22 2L11 13 M22 2L15 22L11 13M22 2L2 9L11 13",sun:"M12 16A4 4 0 0 0 16 12A4 4 0 0 0 12 8A4 4 0 0 0 8 12A4 4 0 0 0 12 16Z M12 2V4 M12 20V22 M4.93 4.93L6.34 6.34 M17.66 17.66L19.07 19.07 M2 12H4 M20 12H22 M6.34 17.66L4.93 19.07 M19.07 4.93L17.66 6.34",moon:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",hangup:"M10 14L12 12M12 12L14 10M12 12L10 10M12 12L14 14M6 18H18C20.2091 18 22 16.2091 22 14V10C22 7.79086 20.2091 6 18 6H6C3.79086 6 2 7.79086 2 10V14C2 16.2091 3.79086 18 6 18Z"}),t.attachShadow({mode:"open"}),t.config={},t.state={isOpen:!1,isDarkMode:!1,status:"disconnected",isSpeaking:!1,acceptedTerms:!1,isTyping:!1},t.refs={},t.silenceTimeout=null,t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&a(t,n)}(e,t),r=e,l=[{key:"connectedCallback",value:function(){var t=this;this.loadConfig(),this.render(),this.setupEventListeners(),this.setupReactContainer(),this.config.initiallyOpen&&this.toggleChatWindow(!0),document.addEventListener("sitehq-status-update",(function(n){t.setStatus(n.detail.status)}))}},{key:"disconnectedCallback",value:function(){this.cleanup()}},{key:"loadConfig",value:function(){var t={apiKey:"demo-key",agentId:"demo-agent",theme:{primary:"#5c078c",background:"#ffffff",text:"#333333"},darkMode:!1,position:"bottom-right",initiallyOpen:!1,widgetTitle:"SiteHQ Assistant",useSolarSystemTheme:!0};if(this.config={apiKey:this.getAttribute("api-key")||t.apiKey,agentId:this.getAttribute("agent-id")||t.agentId,position:this.getAttribute("position")||t.position,initiallyOpen:"true"===this.getAttribute("initially-open"),widgetTitle:this.getAttribute("title")||t.widgetTitle,darkMode:"true"===this.getAttribute("dark-mode"),useSolarSystemTheme:"true"===this.getAttribute("solar-system-theme")||t.useSolarSystemTheme,theme:t.theme},this.hasAttribute("theme"))try{var n=JSON.parse(this.getAttribute("theme"));this.config.theme=i(i({},t.theme),n)}catch(t){console.warn("Invalid theme JSON:",t)}this.state.isDarkMode=this.config.darkMode,this.shadowRoot.host.style.setProperty("--primary-color",this.config.theme.primary)}},{key:"createSVG",value:function(t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width","24"),n.setAttribute("height","24"),n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("fill","none"),n.setAttribute("stroke","currentColor"),n.setAttribute("stroke-width","2"),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-linejoin","round");var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",t),n.appendChild(e),n}},{key:"render",value:function(){if(this.shadowRoot.innerHTML='\n      <style>\n        .sitehq-container {\n          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;\n          font-size: 14px;\n          line-height: 1.5;\n          color: #333;\n          position: fixed;\n          z-index: 9999;\n          bottom: 20px;\n          right: 20px;\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n        }\n\n        .sitehq-container.sitehq-dark-mode {\n          color: #f5f5f5;\n        }\n\n        .sitehq-container.sitehq-top-right {\n          top: 20px;\n          right: 20px;\n          bottom: auto;\n          left: auto;\n        }\n\n        .sitehq-container.sitehq-top-left {\n          top: 20px;\n          left: 20px;\n          bottom: auto;\n          right: auto;\n        }\n\n        .sitehq-container.sitehq-bottom-left {\n          bottom: 20px;\n          left: 20px;\n          top: auto;\n          right: auto;\n        }\n\n        .sitehq-toggle-button {\n          width: 56px;\n          height: 56px;\n          border-radius: 50%;\n          background: radial-gradient(circle at 30% 30%, #F95638, #F95638);\n          color: white;\n          border: none;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          box-shadow: 0 4px 10px rgba(92, 7, 140, 0.3);\n          position: relative;\n          transition: transform 0.3s ease, box-shadow 0.3s ease;\n          animation: sitehq-float 3s ease-in-out infinite;\n        }\n\n        .sitehq-sun-particle {\n          animation: sitehq-orbit 8s linear infinite !important;\n          box-shadow: 0 0 10px rgba(255, 204, 0, 0.8);\n        }\n\n        .sitehq-planet-particle {\n          animation: sitehq-orbit-reverse 6s linear infinite !important;\n        }\n\n        @keyframes sitehq-orbit {\n          0% {\n            transform: rotate(0deg) translateX(6px) rotate(0deg);\n          }\n          100% {\n            transform: rotate(360deg) translateX(6px) rotate(-360deg);\n          }\n        }\n\n        @keyframes sitehq-orbit-reverse {\n          0% {\n            transform: rotate(0deg) translateX(4px) rotate(0deg);\n          }\n          100% {\n            transform: rotate(-360deg) translateX(4px) rotate(360deg);\n          }\n        }\n\n        @keyframes sitehq-float {\n          0%, 100% {\n            transform: translateY(0);\n          }\n          50% {\n            transform: translateY(-10px);\n          }\n        }\n\n        .sitehq-toggle-button:hover {\n          transform: scale(1.05);\n          box-shadow: 0 0 0 8px rgba(255, 165, 0, 0.4),\n                      0 6px 25px rgba(0, 0, 0, 0.3);\n        }\n\n        .sitehq-toggle-button:focus {\n          outline: none;\n        }\n\n        .sitehq-toggle-button::after {\n          content: \'\';\n          position: absolute;\n          inset: 0;\n          border-radius: 50%;\n          background: #FFA500;\n          opacity: 0;\n          z-index: -1;\n          animation: sitehq-pulse 2s infinite;\n        }\n\n        @keyframes sitehq-pulse {\n          0% {\n            transform: scale(1);\n            opacity: 0.3;\n            box-shadow: 0 0 8px rgba(255, 165, 0, 0.5);\n          }\n          100% {\n            transform: scale(1.5);\n            opacity: 0;\n            box-shadow: 0 0 20px rgba(255, 165, 0, 0);\n          }\n        }\n\n        .sitehq-particle {\n          position: absolute;\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          pointer-events: none;\n        }\n\n        .sitehq-particle:nth-child(1) {\n          top: -10px;\n          right: -5px;\n          background-color: #FFCC00;\n          animation: sitehq-float-particle 4s ease-in-out infinite;\n        }\n\n        .sitehq-particle:nth-child(2) {\n          bottom: -8px;\n          left: -5px;\n          width: 8px;\n          height: 8px;\n          background-color: #00CCFF;\n          animation: sitehq-float-particle 3.5s ease-in-out infinite 0.5s;\n        }\n\n        @keyframes sitehq-float-particle {\n          0%, 100% {\n            transform: translate(0, 0);\n          }\n          50% {\n            transform: translate(5px, -10px);\n          }\n        }\n\n        .sitehq-tooltip {\n          position: absolute;\n          bottom: 70px;\n          right: 0;\n          background-color: white;\n          color: #333;\n          padding: 10px 15px;\n          border-radius: 12px;\n          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n          max-width: 220px;\n          opacity: 0;\n          transform: translateY(10px);\n          transition: opacity 0.3s, transform 0.3s;\n          pointer-events: none;\n        }\n\n        .sitehq-dark-mode .sitehq-tooltip {\n          background-color: #2d2d2d;\n          color: #f5f5f5;\n        }\n\n        .sitehq-toggle-button:hover + .sitehq-tooltip {\n          opacity: 1;\n          transform: translateY(0);\n        }\n\n        .sitehq-chat-window {\n          position: absolute;\n          bottom: 70px;\n          right: 0;\n          width: 350px;\n          max-height: 500px;\n          background-color: white;\n          border-radius: 12px;\n          box-shadow: 0 5px 25px rgba(0, 0, 0, 0.15);\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n          transition: all 0.3s ease;\n          transform-origin: bottom right;\n          animation: sitehq-popup 0.3s ease-out;\n          display: none;\n        }\n\n        .sitehq-dark-mode .sitehq-chat-window {\n          background-color: #222;\n          box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);\n        }\n\n        @keyframes sitehq-popup {\n          0% {\n            transform: scale(0.8);\n            opacity: 0;\n          }\n          100% {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n\n        .sitehq-header {\n          padding: 15px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          border-bottom: 1px solid #eee;\n          background-color: #f9f9f9;\n          position: relative;\n        }\n\n        .sitehq-dark-mode .sitehq-header {\n          border-bottom: 1px solid #333;\n          background-color: #2d2d2d;\n        }\n\n        .sitehq-header-content {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          width: 100%;\n        }\n\n        .sitehq-header-title {\n          font-weight: 600;\n          font-size: 16px;\n          color: var(--primary-color, #5c078c);\n        }\n\n        .sitehq-dark-mode .sitehq-header-title {\n          color: #bb86fc;\n        }\n\n        .sitehq-status {\n          font-size: 12px;\n          color: #888;\n          margin-top: 5px;\n        }\n\n        .sitehq-dark-mode .sitehq-status {\n          color: #aaa;\n        }\n\n        .sitehq-status-connected {\n          color: #4CAF50;\n        }\n\n        .sitehq-dark-mode .sitehq-status-connected {\n          color: #81c784;\n        }\n\n        .sitehq-status-disconnected, .sitehq-status-error {\n          color: #F44336;\n        }\n\n        .sitehq-dark-mode .sitehq-status-disconnected,\n        .sitehq-dark-mode .sitehq-status-error {\n          color: #e57373;\n        }\n\n        .sitehq-status-listening {\n          color: #4CAF50;\n        }\n\n        .sitehq-status-speaking {\n          color: #FF9800;\n        }\n\n        .sitehq-equalizer {\n          display: none;\n          flex-direction: row;\n          gap: 3px;\n          margin-top: 5px;\n        }\n\n        .sitehq-equalizer-bar {\n          width: 4px;\n          height: 10px;\n          background-color: #4CAF50;\n          border-radius: 2px;\n          animation: sitehq-wave 1s infinite ease-in-out;\n        }\n\n        .sitehq-equalizer-bar:nth-child(2) {\n          animation-delay: 0.2s;\n        }\n\n        .sitehq-equalizer-bar:nth-child(3) {\n          animation-delay: 0.4s;\n        }\n\n        .sitehq-status-listening ~ .sitehq-equalizer {\n          display: flex;\n        }\n\n        .sitehq-sound-wave {\n          display: none;\n          flex-direction: row;\n          gap: 3px;\n          margin-top: 5px;\n        }\n\n        .sitehq-sound-wave-bar {\n          width: 4px;\n          height: 10px;\n          background-color: #FF9800;\n          border-radius: 2px;\n          animation: sitehq-wave 1s infinite ease-in-out;\n        }\n\n        .sitehq-sound-wave-bar:nth-child(2) {\n          animation-delay: 0.2s;\n        }\n\n        .sitehq-sound-wave-bar:nth-child(3) {\n          animation-delay: 0.4s;\n        }\n\n        @keyframes sitehq-wave {\n          0%, 100% {\n            transform: scaleY(1);\n          }\n          50% {\n            transform: scaleY(2);\n          }\n        }\n\n        .sitehq-status-speaking ~ .sitehq-sound-wave {\n          display: flex;\n        }\n\n        .sitehq-header-actions {\n          position: absolute;\n          right: 15px;\n          display: flex;\n          gap: 8px;\n        }\n\n        .sitehq-icon-button {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          background-color: transparent;\n          border: none;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #555;\n          transition: background-color 0.2s;\n        }\n\n        .sitehq-dark-mode .sitehq-icon-button {\n          color: #ddd;\n        }\n\n        .sitehq-icon-button:hover {\n          background-color: rgba(0, 0, 0, 0.05);\n        }\n\n        .sitehq-dark-mode .sitehq-icon-button:hover {\n          background-color: rgba(255, 255, 255, 0.1);\n        }\n\n        .sitehq-messages {\n          display: none;\n        }\n\n        .sitehq-typing-indicator {\n          display: none;\n          padding: 10px 15px;\n          align-items: center;\n          gap: 5px;\n        }\n\n        .sitehq-typing-dot {\n          width: 8px;\n          height: 8px;\n          background-color: #888;\n          border-radius: 50%;\n          animation: sitehq-typing-dot 1.4s infinite ease-in-out;\n        }\n\n        .sitehq-dark-mode .sitehq-typing-dot {\n          background-color: #aaa;\n        }\n\n        .sitehq-typing-dot:nth-child(1) {\n          animation-delay: 0s;\n        }\n\n        .sitehq-typing-dot:nth-child(2) {\n          animation-delay: 0.2s;\n        }\n\n        .sitehq-typing-dot:nth-child(3) {\n          animation-delay: 0.4s;\n        }\n\n        @keyframes sitehq-typing-dot {\n          0%, 60%, 100% {\n            transform: translateY(0);\n          }\n          30% {\n            transform: translateY(-5px);\n          }\n        }\n\n        .sitehq-input-area {\n          padding: 10px 15px;\n          display: flex;\n          gap: 10px;\n          border-top: 1px solid #eee;\n          background-color: #f9f9f9;\n          justify-content: center;\n        }\n\n        .sitehq-dark-mode .sitehq-input-area {\n          border-top: 1px solid #333;\n          background-color: #2d2d2d;\n        }\n\n        .sitehq-message-input {\n          display: none;\n        }\n\n        .sitehq-send-button {\n          display: none;\n        }\n\n        .sitehq-disconnect-button {\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          background-color: #F44336;\n          color: white;\n          border: none;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: background-color 0.2s;\n        }\n\n        .sitehq-disconnect-button:hover {\n          background-color: #d32f2f;\n        }\n\n        .sitehq-terms-dialog {\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: 100%;\n          height: 100%;\n          background-color: rgba(0, 0, 0, 0.5);\n          backdrop-filter: blur(5px);\n          display: none;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n        }\n\n        .sitehq-terms-content {\n          background-color: white;\n          padding: 20px;\n          border-radius: 12px;\n          width: 90%;\n          max-width: 400px;\n          max-height: 80vh;\n          overflow-y: auto;\n          box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);\n        }\n\n        .sitehq-dark-mode .sitehq-terms-content {\n          background-color: #2d2d2d;\n          color: #f5f5f5;\n        }\n\n        .sitehq-terms-content h3 {\n          margin-top: 0;\n          color: var(--primary-color, #5c078c);\n        }\n\n        .sitehq-dark-mode .sitehq-terms-content h3 {\n          color: #bb86fc;\n        }\n\n        .sitehq-primary-button {\n          background-color: var(--primary-color, #5c078c);\n          color: white;\n          border: none;\n          padding: 10px 15px;\n          border-radius: 6px;\n          font-weight: 500;\n          cursor: pointer;\n          display: block;\n          width: 100%;\n          margin-top: 15px;\n          transition: background-color 0.2s;\n        }\n\n        .sitehq-dark-mode .sitehq-primary-button {\n          background-color: #bb86fc;\n          color: #000;\n        }\n\n        .sitehq-primary-button:hover {\n          background-color: #4a0670;\n        }\n\n        .sitehq-dark-mode .sitehq-primary-button:hover {\n          background-color: #a370db;\n        }\n\n        .sitehq-cancel-button {\n          background-color: #f5f5f5;\n          color: #333;\n          border: 1px solid #ddd;\n          padding: 8px 16px;\n          border-radius: 6px;\n          cursor: pointer;\n          margin-top: 10px;\n          width: 100%;\n        }\n\n        .sitehq-dark-mode .sitehq-cancel-button {\n          background-color: #333;\n          color: #f5f5f5;\n          border: 1px solid #444;\n        }\n\n        .sitehq-branding {\n          font-size: 11px;\n          color: #888;\n          text-align: center;\n          margin-top: 5px;\n        }\n\n        .sitehq-dark-mode .sitehq-branding {\n          color: #aaa;\n        }\n\n        .sitehq-branding a {\n          color: var(--primary-color, #5c078c);\n          text-decoration: none;\n        }\n\n        .sitehq-dark-mode .sitehq-branding a {\n          color: #bb86fc;\n        }\n\n        .sitehq-branding a:hover {\n          text-decoration: underline;\n        }\n\n        .sitehq-react-container {\n          display: none;\n        }\n      </style>\n      <div class="sitehq-container '.concat(this.config.position?"sitehq-"+this.config.position:"sitehq-bottom-right"," ").concat(this.state.isDarkMode?"sitehq-dark-mode":"",'">\n        <div class="sitehq-chat-window" style="display: none;">\n          <div class="sitehq-header">\n            <div class="sitehq-header-content">\n              <div class="sitehq-header-title">').concat(this.config.widgetTitle||"Chat with AI",'</div>\n              <div class="sitehq-status" id="sitehq-status">Initializing...</div>\n              <div class="sitehq-equalizer">\n                <div class="sitehq-equalizer-bar"></div>\n                <div class="sitehq-equalizer-bar"></div>\n                <div class="sitehq-equalizer-bar"></div>\n                <div class="sitehq-equalizer-bar"></div>\n              </div>\n              <div class="sitehq-sound-wave">\n                <div class="sitehq-sound-wave-bar"></div>\n                <div class="sitehq-sound-wave-bar"></div>\n                <div class="sitehq-sound-wave-bar"></div>\n              </div>\n            </div>\n            <div class="sitehq-header-actions">\n              <button class="sitehq-icon-button" aria-label="Toggle dark mode"></button>\n            </div>\n          </div>\n          <div class="sitehq-messages"></div>\n          <div class="sitehq-typing-indicator" style="display: none;">\n            <div class="sitehq-typing-dot"></div>\n            <div class="sitehq-typing-dot"></div>\n            <div class="sitehq-typing-dot"></div>\n          </div>\n          <div class="sitehq-input-area">\n            <button class="sitehq-disconnect-button" aria-label="Disconnect call"></button>\n          </div>\n        </div>\n        <button class="sitehq-toggle-button" aria-label="Toggle chat"></button>\n        <div class="sitehq-tooltip">Ask me anything! I\'m here to help.</div>\n        <div class="sitehq-terms-dialog" style="display: none;">\n          <div class="sitehq-terms-content">\n            <h3>Terms and Conditions</h3>\n            <p>By clicking " Agree," and each time I interact with this AI agent, I consent to the recording, storage, and sharing of my communications with third-party service providers, and as described in the Privacy Policy. If you do not wish to have your conversations recorded, please refrain from using this service.</p>\n            <button class="sitehq-primary-button"> Agree</button>\n            <button class="sitehq-cancel-button">Cancel</button>\n          </div>\n        </div>\n        <div class="sitehq-branding">Powered by <a href="https://www.sitehq.ai" target="_blank">SiteHQ</a></div>\n        <div class="sitehq-react-container"></div>\n      </div>\n    '),this.refs.container=this.shadowRoot.querySelector(".sitehq-container"),this.refs.chatWindow=this.shadowRoot.querySelector(".sitehq-chat-window"),this.refs.chatButton=this.shadowRoot.querySelector(".sitehq-toggle-button"),this.refs.messagesContainer=this.shadowRoot.querySelector(".sitehq-messages"),this.refs.typingIndicator=this.shadowRoot.querySelector(".sitehq-typing-indicator"),this.refs.messageInput=this.shadowRoot.querySelector(".sitehq-message-input"),this.refs.termsDialog=this.shadowRoot.querySelector(".sitehq-terms-dialog"),this.refs.disconnectButton=this.shadowRoot.querySelector(".sitehq-disconnect-button"),this.refs.reactContainer=this.shadowRoot.querySelector(".sitehq-react-container"),this.refs.chatButton.appendChild(this.createSVG(this.SVGS.chatBubble)),this.refs.disconnectButton.appendChild(this.createSVG(this.SVGS.hangup)),this.updateDarkModeIcon(),this.config.useSolarSystemTheme){var t=document.createElement("div");t.className="sitehq-particle sitehq-sun-particle",t.style.top="-10px",t.style.right="-8px",t.style.width="18px",t.style.height="18px",t.style.backgroundColor="#FFCC00",t.style.boxShadow="0 0 10px rgba(255, 204, 0, 0.8)";var n=document.createElement("div");n.className="sitehq-particle sitehq-planet-particle",n.style.bottom="-5px",n.style.left="-3px",n.style.width="8px",n.style.height="8px",n.style.backgroundColor="#00CCFF",this.refs.chatButton.appendChild(t),this.refs.chatButton.appendChild(n)}else{var e=document.createElement("div");e.className="sitehq-particle";var i=document.createElement("div");i.className="sitehq-particle",this.refs.chatButton.appendChild(e),this.refs.chatButton.appendChild(i)}}},{key:"updateDarkModeIcon",value:function(){var t=this.refs.chatWindow.querySelector('[aria-label="Toggle dark mode"]');t.innerHTML="",t.appendChild(this.createSVG(this.state.isDarkMode?this.SVGS.sun:this.SVGS.moon))}},{key:"setupEventListeners",value:function(){var t=this;this.refs.chatButton.addEventListener("click",(function(){return t.toggleChatWindow(!t.state.isOpen)})),this.refs.chatWindow.querySelector('[aria-label="Toggle dark mode"]').addEventListener("click",(function(){return t.toggleDarkMode()})),this.refs.disconnectButton.addEventListener("click",(function(){return t.disconnectCall()})),this.refs.termsDialog.querySelector(".sitehq-cancel-button").addEventListener("click",(function(){t.refs.termsDialog.style.display="none",t.toggleChatWindow(!1)})),this.refs.termsDialog.querySelector(".sitehq-primary-button").addEventListener("click",(function(){t.state.acceptedTerms=!0,t.refs.termsDialog.style.display="none",t.initializeChat()}))}},{key:"setupReactContainer",value:function(){var t=new CustomEvent("sitehq-init",{detail:{apiKey:this.config.apiKey,agentId:this.config.agentId,container:this.refs.reactContainer}});document.dispatchEvent(t)}},{key:"toggleChatWindow",value:function(t){this.state.isOpen=t,this.refs.chatWindow.style.display=t?"flex":"none",t&&!this.state.acceptedTerms?this.refs.termsDialog.style.display="flex":t||(this.state.acceptedTerms=!1,this.setStatus("disconnected"))}},{key:"toggleDarkMode",value:function(){this.state.isDarkMode=!this.state.isDarkMode,this.state.isDarkMode?this.refs.container.classList.add("sitehq-dark-mode"):this.refs.container.classList.remove("sitehq-dark-mode"),this.updateDarkModeIcon()}},{key:"initializeChat",value:function(){document.dispatchEvent(new CustomEvent("sitehq-accept-terms"))}},{key:"setStatus",value:function(t){this.state.status=t;var n=this.shadowRoot.querySelector("#sitehq-status");n.textContent=t.charAt(0).toUpperCase()+t.slice(1),n.className="sitehq-status sitehq-status-".concat(t),this.refs.typingIndicator.style.display="thinking"===t||this.state.isTyping?"flex":"none"}},{key:"disconnectCall",value:function(){document.dispatchEvent(new CustomEvent("sitehq-disconnect")),this.setStatus("disconnected"),this.state.acceptedTerms=!1,this.state.isOpen=!1,this.refs.chatWindow.style.display="none"}},{key:"cleanup",value:function(){}}],l&&o(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,l}(r(HTMLElement));return customElements.define("sitehq-chat",h),t})()));