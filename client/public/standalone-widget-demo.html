<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SiteHQ Chat Widget Demo</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    .demo-section {
      margin: 20px 0;
      padding: 20px;
      border: 1px solid #eee;
      border-radius: 8px;
    }
    .demo-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }
    .demo-tab {
      padding: 8px 16px;
      cursor: pointer;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .demo-tab.active {
      background: #5c078c;
      color: white;
      border-color: #5c078c;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .code-container {
      background: #f5f5f5;
      padding: 15px;
      border-radius: 4px;
      position: relative;
    }
    .copy-button {
      position: absolute;
      right: 10px;
      top: 10px;
      padding: 5px 10px;
      border: none;
      background: #5c078c;
      color: white;
      border-radius: 4px;
      cursor: pointer;
    }
    pre {
      white-space: pre-wrap;
      margin: 0;
    }
    .demo-iframe {
      width: 100%;
      height: 400px;
      border: 1px solid #ddd;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h1>SiteHQ Chat Widget Demo</h1>
  <p>Three ways to embed the chat widget on any website</p>

  <div class="demo-section">
    <div class="demo-tabs">
      <div class="demo-tab active" data-tab="script">Script Tag</div>
      <div class="demo-tab" data-tab="custom-element">Custom Element</div>
      <div class="demo-tab" data-tab="iframe">IFrame</div>
    </div>

    <div class="tab-content active" id="script-content">
      <h3>Script Tag Integration</h3>
      <p>Add this script to your HTML:</p>
      <div class="code-container">
        <button class="copy-button" data-code="script">Copy</button>
        <pre><code>&lt;script 
  src="/standalone-chat-bubble.js" 
  data-sitehq-chat="auto"
  data-api-key="sk_d30f51b33804638dd5e2af1f942f1685ccacd0d95ef30500"
  data-agent-id="KRGVz0f5HAU0E7u6BbA5"
  data-theme='{"primary":"#5c078c","background":"#ffffff","text":"#333333"}'
&gt;&lt;/script&gt;</code></pre>
      </div>
      <button id="try-script" style="margin-top: 20px;">Try it now</button>
    </div>

    <div class="tab-content" id="custom-element-content">
      <h3>Custom Element Integration</h3>
      <div class="code-container">
        <button class="copy-button" data-code="custom">Copy</button>
        <pre><code>&lt;sitehq-chat-widget 
  api-key="sk_d30f51b33804638dd5e2af1f942f1685ccacd0d95ef30500"
  agent-id="KRGVz0f5HAU0E7u6BbA5"
  theme='{"primary":"#5c078c","background":"#ffffff","text":"#333333"}'
&gt;&lt;/sitehq-chat-widget&gt;</code></pre>
      </div>
      <button id="try-custom" style="margin-top: 20px;">Try it now</button>
    </div>

    <div class="tab-content" id="iframe-content">
      <h3>IFrame Integration</h3>
      <div class="code-container">
        <button class="copy-button" data-code="iframe">Copy</button>
        <pre><code>&lt;iframe 
  src="/widget-embed?apiKey=sk_d30f51b33804638dd5e2af1f942f1685ccacd0d95ef30500&agentId=KRGVz0f5HAU0E7u6BbA5" 
  style="width: 400px; height: 600px; position: fixed; bottom: 20px; right: 20px; border: none; border-radius: 12px;"
  allow="microphone"
&gt;&lt;/iframe&gt;</code></pre>
      </div>
      <button id="try-iframe" style="margin-top: 20px;">Try it now</button>
    </div>
  </div>

  <script>
    // Tab switching
    document.querySelectorAll('.demo-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.demo-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(`${tab.dataset.tab}-content`).classList.add('active');
      });
    });

    // Copy buttons
    document.querySelectorAll('.copy-button').forEach(button => {
      button.addEventListener('click', () => {
        const code = button.nextElementSibling.textContent;
        navigator.clipboard.writeText(code);
        button.textContent = 'Copied!';
        setTimeout(() => button.textContent = 'Copy', 2000);
      });
    });

    // Try it buttons
    document.getElementById('try-script').addEventListener('click', () => {
      const script = document.createElement('script');
      script.src = '/standalone-chat-bubble.js';
      script.setAttribute('data-sitehq-chat', 'auto');
      script.setAttribute('data-api-key', 'sk_d30f51b33804638dd5e2af1f942f1685ccacd0d95ef30500');
      script.setAttribute('data-agent-id', 'KRGVz0f5HAU0E7u6BbA5');
      script.setAttribute('data-theme', '{"primary":"#5c078c","background":"#ffffff","text":"#333333"}');
      document.body.appendChild(script);
    });

    document.getElementById('try-custom').addEventListener('click', () => {
      const script = document.createElement('script');
      script.src = '/standalone-chat-bubble.js';
      document.body.appendChild(script);

      const widget = document.createElement('sitehq-chat-widget');
      widget.setAttribute('api-key', 'sk_d30f51b33804638dd5e2af1f942f1685ccacd0d95ef30500');
      widget.setAttribute('agent-id', 'KRGVz0f5HAU0E7u6BbA5');
      widget.setAttribute('theme', '{"primary":"#5c078c","background":"#ffffff","text":"#333333"}');
      document.body.appendChild(widget);
    });

    document.getElementById('try-iframe').addEventListener('click', () => {
      const iframe = document.createElement('iframe');
      iframe.src = '/widget-embed?apiKey=sk_d30f51b33804638dd5e2af1f942f1685ccacd0d95ef30500&agentId=KRGVz0f5HAU0E7u6BbA5';
      iframe.style.cssText = 'width: 400px; height: 600px; position: fixed; bottom: 20px; right: 20px; border: none; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); z-index: 9999;';
      iframe.setAttribute('allow', 'microphone');
      document.body.appendChild(iframe);
    });
  </script>
</body>
</html>